<div class="listado-product-structures">
    @if(noProductsAlertShown){
    <ion-item>
      <ion-label class="ion-text-center" style="color: red;">
        {{orderService.getTag("DENARIO_SIN_RESULTADOS")}}
      </ion-label>
    </ion-item>
    } 
  <!--  Listado clickeable de productos  -->
  <div class="product-card" *ngIf="!selectedProduct">
    <ion-list class="espacioListasProductos" *ngFor="let product of productList | slice: startPro:endPro; index as i"
      (click)="onShowProductDetail(product)">
      <div class="product-structure-title">
        <!-- <div class="product-structure-title"
        *ngIf="searchText === '' || product.coProduct.toLowerCase().includes(searchText.toLowerCase()) || product.naProduct.toLowerCase().includes(searchText.toLowerCase())"> -->
        <!-- <ion-item button detail="true" *ngIf="i<10*indice"> -->
        <ion-item button detail="false">
          @if(this.orderService.showProductImages){
          <ion-label fixed class="fixedLabel contenedorImgMargin">
            <img class="productImage" alt="" loading="lazy"
              [src]="product.coProduct ? (imageServices.getImageObservable(product.coProduct) | async) : '../../../assets/images/nodisponible.png'" />
          </ion-label>
        }
          <ion-label class="textList espaciotextoListaProduc">
            <p class="espacioentrelineas">{{ product.naProduct }}</p>
            <p class="espacioentrelineas">{{this.productTags.get('PROD_COD_PROD')}}: {{ product.coProduct }}</p>
            <p class="espacioentrelineas">{{this.productTags.get('PROD_PRICE_PROD')}}: {{ formatNumber(product.price) }}
              {{ product.coCurrency }}</p>
            <p *ngIf="showConversionInfo && product.priceOpposite" class="espacioentrelineas">
              {{this.productTags.get('PROD_PRICE_PROD')}}:
              {{ formatNumber(product.priceOpposite) }} {{product.coCurrencyOpposite }} </p>
              @if(this.productService.vatExemptProducts){
            <p class="espacioentrelineas">
             {{this.productTags.get('PROD_IVA')}}:
              {{ formatNumber(product.nuTax) }} % </p>
            }
            @if(this.orderService.showStock){
            <p class="espacioentrelineas">
              {{this.productTags.get('PROD_STOCK_PROD')}}: {{ this.productService.formatStock(product.stock, this.orderService.quUnitDecimals) }}</p>
            }
            @if(this.orderService.displayProductPoints){
            <p class="espacioentrelineas"> 
              {{this.productTags.get('PROD_POINTS_PROD')}}: {{ product.points }}
            </p>
            }
            @if(this.orderService.productMinMul &&this.orderService.prodMinMulMap.has(product.idProduct)){
            @if( this.orderService.getProdMinMulByProduct(product.idProduct).quMinimum > 1 ){
            <p class="espacioentrelineas">
              {{this.orderService.getTag('PED_MINIMO')}}: {{ this.orderService.getProdMinMulByProduct(product.idProduct).quMinimum }} 
            </p>
          }
          @if( this.orderService.getProdMinMulByProduct(product.idProduct).quMultiple > 1 ){
            <p class="espacioentrelineas">  
              {{this.orderService.getTag('PED_MULTIPLO')}}: {{ this.orderService.getProdMinMulByProduct(product.idProduct).quMultiple }}
            </p>
            }
          }
          
          </ion-label>
          <ion-note slot="end"><ion-icon class="icon-List2" name="chevron-forward-outline"></ion-icon></ion-note>
        </ion-item>
      </div>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
      <ion-infinite-scroll-content loadingText="Por favor espere..."
        loadingSpinner="bubbles"></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>

</div>